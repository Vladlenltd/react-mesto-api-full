{"ast":null,"code":"import _slicedToArray from\"/Users/Vlad/dev/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import PopupWithForm from\"./PopupWithForm\";import React from\"react\";import{CurrentUserContext}from\"../context/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser;var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),description=_React$useState4[0],setDescription=_React$useState4[1];var currentUser=React.useContext(CurrentUserContext);function handleNameChange(evt){setName(evt.target.value);}function handleDescription(evt){setDescription(evt.target.value);}React.useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser,isOpen]);function handleSubmit(evt){evt.preventDefault();onUpdateUser({name:name,about:description});}return/*#__PURE__*/_jsx(PopupWithForm,{name:\"profile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,textButton:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{className:\"popup__input popup__input_type_name\",id:\"name-input\",type:\"text\",name:\"name\",placeholder:\"\\u0418\\u043C\\u044F\",minLength:2,maxLength:40,required:true,value:name||\"\",onChange:handleNameChange}),/*#__PURE__*/_jsx(\"span\",{className:\"name-input-error\"}),/*#__PURE__*/_jsx(\"input\",{className:\"popup__input popup__input_type_about\",id:\"about-input\",type:\"text\",name:\"about\",placeholder:\"\\u041E \\u0441\\u0435\\u0431\\u0435\",minLength:2,maxLength:200,required:true,value:description||\"\",onChange:handleDescription}),/*#__PURE__*/_jsx(\"span\",{className:\"about-input-error\"})]})});}export default EditProfilePopup;","map":{"version":3,"names":["PopupWithForm","React","CurrentUserContext","EditProfilePopup","isOpen","onClose","onUpdateUser","useState","name","setName","description","setDescription","currentUser","useContext","handleNameChange","evt","target","value","handleDescription","useEffect","about","handleSubmit","preventDefault"],"sources":["/Users/Vlad/dev/react-mesto-api-full/frontend/src/components/EditProfilePopup.js"],"sourcesContent":["import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleDescription(evt) {\n    setDescription(evt.target.value);\n  }\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, isOpen]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"profile\"\n      title=\"Редактировать профиль\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      textButton=\"Сохранить\"\n      children={\n        <>\n          <input\n            className=\"popup__input popup__input_type_name\"\n            id=\"name-input\"\n            type=\"text\"\n            name=\"name\"\n            placeholder=\"Имя\"\n            minLength={2}\n            maxLength={40}\n            required\n            value={name || \"\"}\n            onChange={handleNameChange}\n          />\n          <span className=\"name-input-error\" />\n          <input\n            className=\"popup__input popup__input_type_about\"\n            id=\"about-input\"\n            type=\"text\"\n            name=\"about\"\n            placeholder=\"О себе\"\n            minLength={2}\n            maxLength={200}\n            required\n            value={description || \"\"}\n            onChange={handleDescription}\n          />\n          <span className=\"about-input-error\" />\n        </>\n      }\n    />\n  );\n}\n\nexport default EditProfilePopup;\n"],"mappings":"mIAAA,MAAOA,cAAP,KAA0B,iBAA1B,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,kBAAT,KAAmC,+BAAnC,C,6IAEA,QAASC,iBAAT,MAA6D,IAAjCC,OAAiC,MAAjCA,MAAiC,CAAzBC,OAAyB,MAAzBA,OAAyB,CAAhBC,YAAgB,MAAhBA,YAAgB,CAC3D,oBAAwBL,KAAK,CAACM,QAAN,CAAe,EAAf,CAAxB,oDAAOC,IAAP,qBAAaC,OAAb,qBACA,qBAAsCR,KAAK,CAACM,QAAN,CAAe,EAAf,CAAtC,qDAAOG,WAAP,qBAAoBC,cAApB,qBACA,GAAMC,YAAW,CAAGX,KAAK,CAACY,UAAN,CAAiBX,kBAAjB,CAApB,CAEA,QAASY,iBAAT,CAA0BC,GAA1B,CAA+B,CAC7BN,OAAO,CAACM,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAP,CACD,CAED,QAASC,kBAAT,CAA2BH,GAA3B,CAAgC,CAC9BJ,cAAc,CAACI,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAd,CACD,CAEDhB,KAAK,CAACkB,SAAN,CAAgB,UAAM,CACpBV,OAAO,CAACG,WAAW,CAACJ,IAAb,CAAP,CACAG,cAAc,CAACC,WAAW,CAACQ,KAAb,CAAd,CACD,CAHD,CAGG,CAACR,WAAD,CAAcR,MAAd,CAHH,EAKA,QAASiB,aAAT,CAAsBN,GAAtB,CAA2B,CACzBA,GAAG,CAACO,cAAJ,GACAhB,YAAY,CAAC,CACXE,IAAI,CAAJA,IADW,CAEXY,KAAK,CAAEV,WAFI,CAAD,CAAZ,CAID,CAED,mBACE,KAAC,aAAD,EACE,IAAI,CAAC,SADP,CAEE,KAAK,CAAC,2HAFR,CAGE,MAAM,CAAEN,MAHV,CAIE,OAAO,CAAEC,OAJX,CAKE,QAAQ,CAAEgB,YALZ,CAME,UAAU,CAAC,wDANb,CAOE,QAAQ,cACN,wCACE,cACE,SAAS,CAAC,qCADZ,CAEE,EAAE,CAAC,YAFL,CAGE,IAAI,CAAC,MAHP,CAIE,IAAI,CAAC,MAJP,CAKE,WAAW,CAAC,oBALd,CAME,SAAS,CAAE,CANb,CAOE,SAAS,CAAE,EAPb,CAQE,QAAQ,KARV,CASE,KAAK,CAAEb,IAAI,EAAI,EATjB,CAUE,QAAQ,CAAEM,gBAVZ,EADF,cAaE,aAAM,SAAS,CAAC,kBAAhB,EAbF,cAcE,cACE,SAAS,CAAC,sCADZ,CAEE,EAAE,CAAC,aAFL,CAGE,IAAI,CAAC,MAHP,CAIE,IAAI,CAAC,OAJP,CAKE,WAAW,CAAC,iCALd,CAME,SAAS,CAAE,CANb,CAOE,SAAS,CAAE,GAPb,CAQE,QAAQ,KARV,CASE,KAAK,CAAEJ,WAAW,EAAI,EATxB,CAUE,QAAQ,CAAEQ,iBAVZ,EAdF,cA0BE,aAAM,SAAS,CAAC,mBAAhB,EA1BF,GARJ,EADF,CAwCD,CAED,cAAef,iBAAf"},"metadata":{},"sourceType":"module"}