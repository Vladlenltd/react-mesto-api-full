[{"/Users/Vlad/dev/mesto-react/src/index.js":"1","/Users/Vlad/dev/mesto-react/src/reportWebVitals.js":"2","/Users/Vlad/dev/mesto-react/src/components/App.js":"3","/Users/Vlad/dev/mesto-react/src/components/Header.js":"4","/Users/Vlad/dev/mesto-react/src/components/Main.js":"5","/Users/Vlad/dev/mesto-react/src/components/Footer.js":"6","/Users/Vlad/dev/mesto-react/src/components/PopupWithForm.js":"7","/Users/Vlad/dev/mesto-react/src/components/ImagePopup.js":"8","/Users/Vlad/dev/mesto-react/src/components/Card.js":"9","/Users/Vlad/dev/mesto-react/src/utils/Api.js":"10","/Users/Vlad/dev/mesto-react/src/components/AddPlacePopup.js":"11","/Users/Vlad/dev/mesto-react/src/components/EditAvatarPopup.js":"12","/Users/Vlad/dev/mesto-react/src/components/EditProfilePopup.js":"13","/Users/Vlad/dev/mesto-react/src/context/CurrentUserContext.js":"14","/Users/Vlad/dev/react-mesto-auth/src/index.js":"15","/Users/Vlad/dev/react-mesto-auth/src/reportWebVitals.js":"16","/Users/Vlad/dev/react-mesto-auth/src/components/App.js":"17","/Users/Vlad/dev/react-mesto-auth/src/components/Main.js":"18","/Users/Vlad/dev/react-mesto-auth/src/components/Header.js":"19","/Users/Vlad/dev/react-mesto-auth/src/components/ImagePopup.js":"20","/Users/Vlad/dev/react-mesto-auth/src/components/Footer.js":"21","/Users/Vlad/dev/react-mesto-auth/src/components/PopupWithForm.js":"22","/Users/Vlad/dev/react-mesto-auth/src/components/EditAvatarPopup.js":"23","/Users/Vlad/dev/react-mesto-auth/src/components/EditProfilePopup.js":"24","/Users/Vlad/dev/react-mesto-auth/src/components/AddPlacePopup.js":"25","/Users/Vlad/dev/react-mesto-auth/src/utils/Api.js":"26","/Users/Vlad/dev/react-mesto-auth/src/context/CurrentUserContext.js":"27","/Users/Vlad/dev/react-mesto-auth/src/components/Card.js":"28","/Users/Vlad/dev/react-mesto-auth/src/components/Login.js":"29","/Users/Vlad/dev/react-mesto-auth/src/components/Sign.js":"30","/Users/Vlad/dev/react-mesto-auth/src/components/Register.js":"31","/Users/Vlad/dev/react-mesto-auth/src/components/InfoTooltip.js":"32","/Users/Vlad/dev/react-mesto-auth/src/components/ProtectedRoute.js":"33","/Users/Vlad/dev/react-mesto-auth/src/utils/ApiAuth.js":"34"},{"size":546,"mtime":1655384004000,"results":"35","hashOfConfig":"36"},{"size":362,"mtime":1655384004000,"results":"37","hashOfConfig":"36"},{"size":4262,"mtime":1656679700000,"results":"38","hashOfConfig":"36"},{"size":247,"mtime":1655384004000,"results":"39","hashOfConfig":"36"},{"size":1421,"mtime":1656679700000,"results":"40","hashOfConfig":"36"},{"size":181,"mtime":1655384004000,"results":"41","hashOfConfig":"36"},{"size":583,"mtime":1656679700000,"results":"42","hashOfConfig":"36"},{"size":578,"mtime":1655384036000,"results":"43","hashOfConfig":"36"},{"size":1407,"mtime":1656679700000,"results":"44","hashOfConfig":"36"},{"size":2764,"mtime":1656448634000,"results":"45","hashOfConfig":"36"},{"size":1688,"mtime":1656679700000,"results":"46","hashOfConfig":"36"},{"size":972,"mtime":1656679700000,"results":"47","hashOfConfig":"36"},{"size":1833,"mtime":1656679700000,"results":"48","hashOfConfig":"36"},{"size":84,"mtime":1656448634000,"results":"49","hashOfConfig":"36"},{"size":639,"mtime":1657752149000,"results":"50","hashOfConfig":"51"},{"size":362,"mtime":1657752149000,"results":"52","hashOfConfig":"51"},{"size":6967,"mtime":1661170996000,"results":"53","hashOfConfig":"51"},{"size":1469,"mtime":1657801210000,"results":"54","hashOfConfig":"51"},{"size":990,"mtime":1657752149000,"results":"55","hashOfConfig":"51"},{"size":578,"mtime":1657752149000,"results":"56","hashOfConfig":"51"},{"size":181,"mtime":1657752149000,"results":"57","hashOfConfig":"51"},{"size":735,"mtime":1657801210000,"results":"58","hashOfConfig":"51"},{"size":1035,"mtime":1657801210000,"results":"59","hashOfConfig":"51"},{"size":1893,"mtime":1657801210000,"results":"60","hashOfConfig":"51"},{"size":1821,"mtime":1657801210000,"results":"61","hashOfConfig":"51"},{"size":2764,"mtime":1657752149000,"results":"62","hashOfConfig":"51"},{"size":84,"mtime":1657752149000,"results":"63","hashOfConfig":"51"},{"size":1465,"mtime":1657801210000,"results":"64","hashOfConfig":"51"},{"size":1181,"mtime":1657801210000,"results":"65","hashOfConfig":"51"},{"size":379,"mtime":1657752149000,"results":"66","hashOfConfig":"51"},{"size":1604,"mtime":1657752149000,"results":"67","hashOfConfig":"51"},{"size":886,"mtime":1657752149000,"results":"68","hashOfConfig":"51"},{"size":217,"mtime":1657752149000,"results":"69","hashOfConfig":"51"},{"size":1000,"mtime":1657752149000,"results":"70","hashOfConfig":"51"},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},"18ydjqt",{"filePath":"75","messages":"76","suppressedMessages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"78","messages":"79","suppressedMessages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"81","messages":"82","suppressedMessages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"85","messages":"86","suppressedMessages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","suppressedMessages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"91","messages":"92","suppressedMessages":"93","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"94","messages":"95","suppressedMessages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"97","messages":"98","suppressedMessages":"99","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"100","messages":"101","suppressedMessages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"103"},{"filePath":"104","messages":"105","suppressedMessages":"106","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"107","messages":"108","suppressedMessages":"109","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"110","messages":"111","suppressedMessages":"112","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"113","messages":"114","suppressedMessages":"115","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"103"},{"filePath":"116","messages":"117","suppressedMessages":"118","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"7fjobw",{"filePath":"119","messages":"120","suppressedMessages":"121","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"122","messages":"123","suppressedMessages":"124","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"125"},{"filePath":"126","messages":"127","suppressedMessages":"128","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"129"},{"filePath":"130","messages":"131","suppressedMessages":"132","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"129"},{"filePath":"133","messages":"134","suppressedMessages":"135","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"129"},{"filePath":"136","messages":"137","suppressedMessages":"138","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"129"},{"filePath":"139","messages":"140","suppressedMessages":"141","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"129"},{"filePath":"142","messages":"143","suppressedMessages":"144","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"145","messages":"146","suppressedMessages":"147","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"129"},{"filePath":"148","messages":"149","suppressedMessages":"150","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"151","messages":"152","suppressedMessages":"153","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"129"},{"filePath":"154","messages":"155","suppressedMessages":"156","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"129"},{"filePath":"157","messages":"158","suppressedMessages":"159","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"160","messages":"161","suppressedMessages":"162","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"129"},{"filePath":"163","messages":"164","suppressedMessages":"165","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"129"},{"filePath":"166","messages":"167","suppressedMessages":"168","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"129"},{"filePath":"169","messages":"170","suppressedMessages":"171","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"129"},{"filePath":"172","messages":"173","suppressedMessages":"174","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"129"},{"filePath":"175","messages":"176","suppressedMessages":"177","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"129"},"/Users/Vlad/dev/mesto-react/src/index.js",[],[],[],"/Users/Vlad/dev/mesto-react/src/reportWebVitals.js",[],[],"/Users/Vlad/dev/mesto-react/src/components/App.js",["178"],[],"/Users/Vlad/dev/mesto-react/src/components/Header.js",[],[],[],"/Users/Vlad/dev/mesto-react/src/components/Main.js",[],[],"/Users/Vlad/dev/mesto-react/src/components/Footer.js",[],[],"/Users/Vlad/dev/mesto-react/src/components/PopupWithForm.js",[],[],"/Users/Vlad/dev/mesto-react/src/components/ImagePopup.js",[],[],"/Users/Vlad/dev/mesto-react/src/components/Card.js",[],[],"/Users/Vlad/dev/mesto-react/src/utils/Api.js",[],[],[],"/Users/Vlad/dev/mesto-react/src/components/AddPlacePopup.js",[],[],"/Users/Vlad/dev/mesto-react/src/components/EditAvatarPopup.js",[],[],"/Users/Vlad/dev/mesto-react/src/components/EditProfilePopup.js",[],[],"/Users/Vlad/dev/mesto-react/src/context/CurrentUserContext.js",[],[],"/Users/Vlad/dev/react-mesto-auth/src/index.js",[],[],"/Users/Vlad/dev/react-mesto-auth/src/reportWebVitals.js",[],[],"/Users/Vlad/dev/react-mesto-auth/src/components/App.js",["179"],[],"import React from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport { api } from \"../utils/Api\";\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport { Route, Routes, useNavigate } from \"react-router-dom\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport InfoTooltip from \"./InfoTooltip\";\n// import { auth } from '../utils/Auth';\nimport * as apiAuth from \"../utils/ApiAuth\";\nimport ProtectedRoute from \"./ProtectedRoute\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopup] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopup] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopup] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({\n    name: \"\",\n    description: \"\",\n    avatar: \"\",\n  });\n  const [cards, setCards] = React.useState([]);\n  const [isLogIn, setIsLogIn] = React.useState(false);\n  const [isInfoTooltipPopupOpen, setInfoTooltipPopupState] =\n    React.useState(false);\n  const [isLoginSuccess, setIsLoginSuccess] = React.useState(false);\n  const navigate = useNavigate();\n  const [userEmail, setUserEmail] = React.useState(\"\");\n\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((res) => {\n        console.log(res);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    api\n      .getInitialCards()\n      .then((items) => {\n        setCards(items);\n      })\n      .catch((res) => {\n        console.log(res);\n      });\n  }, []);\n\n  function handleUpdateUser(data) {\n    api\n      .setUserInfo(data)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((res) => {\n        console.log(res);\n      });\n  }\n\n  function handleUpdateAvatar(link) {\n    api\n      .newUserAvatar(link)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((res) => {\n        console.log(res);\n      });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((res) => {\n        console.log(res);\n      });\n  }\n\n  function handleCardDelete(card) {\n    api\n      .delCard(card._id)\n      .then(() => {\n        setCards((cards) => cards.filter((c) => c._id !== card._id));\n      })\n      .catch((res) => {\n        console.log(res);\n      });\n  }\n\n  function handleAddPlace(data) {\n    api\n      .addNewCard(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((res) => {\n        console.log(res);\n      });\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopup(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopup(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopup(true);\n  }\n  const handleCheckToken = () => {\n    const token = localStorage.getItem(\"jwt\");\n    if (token) {\n      apiAuth\n        .checkTokenValidity(token)\n        .then((res) => {\n          if (res) {\n            setUserEmail(res.data.email);\n            setIsLogIn(true);\n            navigate(\"/\");\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  };\n  React.useEffect(() => {\n    const token = localStorage.getItem(\"jwt\");\n    if (token) {\n      handleCheckToken();\n    }\n  }, []);\n\n  function handleRegistration(email, password) {\n    apiAuth\n      .registration(password, email)\n      .then(() => {\n        setIsLoginSuccess(true);\n        navigate(\"/sign-in\");\n      })\n      .catch((err) => {\n        setIsLoginSuccess(false);\n        console.log(err);\n      })\n      .finally(() => {\n        setInfoTooltipPopupState(true);\n      });\n  }\n\n  function handleLogin(email, password) {\n    apiAuth\n      .authorization(password, email)\n      .then((res) => {\n        if (res.token) {\n          localStorage.setItem(\"jwt\", res.token);\n        }\n        setUserEmail(email);\n        setIsLogIn(true);\n        navigate(\"/\");\n        handleCheckToken();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function onSignOut() {\n    localStorage.removeItem(\"jwt\");\n    setIsLogIn(false);\n    navigate(\"/sign-in\");\n  }\n\n  function closeAllPopups() {\n    setSelectedCard({});\n    setIsAddPlacePopup(false);\n    setIsEditProfilePopup(false);\n    setIsEditAvatarPopup(false);\n    setInfoTooltipPopupState(false);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <div className=\"container\">\n          <Header\n            isLogIn={isLogIn}\n            userEmail={userEmail}\n            onSignOut={onSignOut}\n          />\n          <Routes>\n            <Route\n              path=\"/sign-up\"\n              element={<Register onRegistration={handleRegistration} />}\n            />\n            <Route path=\"/sign-in\" element={<Login onLogin={handleLogin} />} />\n            <Route\n              path=\"/\"\n              element={\n                <ProtectedRoute isLogIn={isLogIn}>\n                  <Main\n                    onEditProfile={handleEditProfileClick}\n                    onEditAvatar={handleEditAvatarClick}\n                    onAddPlace={handleAddPlaceClick}\n                    onCardClick={handleCardClick}\n                    cards={cards}\n                    onCardLike={handleCardLike}\n                    onCardDelete={handleCardDelete}\n                  />\n                </ProtectedRoute>\n              }\n            />\n          </Routes>\n          <Footer />\n\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlace}\n          />\n\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n          <InfoTooltip\n            isOpen={isInfoTooltipPopupOpen}\n            onClose={closeAllPopups}\n            isLogIn={isLogIn}\n            isLoginSuccess={isLoginSuccess}\n          />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","/Users/Vlad/dev/react-mesto-auth/src/components/Main.js",[],[],[],"/Users/Vlad/dev/react-mesto-auth/src/components/Header.js",[],[],"/Users/Vlad/dev/react-mesto-auth/src/components/ImagePopup.js",[],[],"/Users/Vlad/dev/react-mesto-auth/src/components/Footer.js",[],[],"/Users/Vlad/dev/react-mesto-auth/src/components/PopupWithForm.js",[],[],"/Users/Vlad/dev/react-mesto-auth/src/components/EditAvatarPopup.js",[],[],"/Users/Vlad/dev/react-mesto-auth/src/components/EditProfilePopup.js",[],[],"/Users/Vlad/dev/react-mesto-auth/src/components/AddPlacePopup.js",[],[],"/Users/Vlad/dev/react-mesto-auth/src/utils/Api.js",[],[],"/Users/Vlad/dev/react-mesto-auth/src/context/CurrentUserContext.js",[],[],"/Users/Vlad/dev/react-mesto-auth/src/components/Card.js",[],[],"/Users/Vlad/dev/react-mesto-auth/src/components/Login.js",[],[],"/Users/Vlad/dev/react-mesto-auth/src/components/Sign.js",[],[],"/Users/Vlad/dev/react-mesto-auth/src/components/Register.js",[],[],"/Users/Vlad/dev/react-mesto-auth/src/components/InfoTooltip.js",[],[],"/Users/Vlad/dev/react-mesto-auth/src/components/ProtectedRoute.js",[],[],"/Users/Vlad/dev/react-mesto-auth/src/utils/ApiAuth.js",[],[],{"ruleId":"180","severity":1,"message":"181","line":5,"column":8,"nodeType":"182","messageId":"183","endLine":5,"endColumn":21},{"ruleId":"184","severity":1,"message":"185","line":157,"column":6,"nodeType":"186","endLine":157,"endColumn":8,"suggestions":"187"},"no-unused-vars","'PopupWithForm' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'handleCheckToken'. Either include it or remove the dependency array.","ArrayExpression",["188"],{"desc":"189","fix":"190"},"Update the dependencies array to be: [handleCheckToken]",{"range":"191","text":"192"},[3948,3950],"[handleCheckToken]"]