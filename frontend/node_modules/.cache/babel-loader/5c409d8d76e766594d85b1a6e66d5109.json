{"ast":null,"code":"class Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  _checkStatus(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Error: ${res.status}`);\n    }\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      debugger: '',\n      method: 'GET',\n      headers: this._headers\n    }).then(this._checkStatus);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'GET',\n      headers: this._headers\n    }).then(res => {\n      return this._checkStatus(res);\n    });\n  }\n\n  getInitialInfo() {\n    return Promise.all([this.getUserInfo(), this.getInitialCards()]);\n  }\n\n  setUserInfo(id) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: id.name,\n        about: id.about\n      })\n    }).then(this._checkStatus);\n  }\n\n  newUserAvatar(data) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    }).then(this._checkStatus);\n  }\n\n  addNewCard(data) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.title,\n        link: data.url\n      })\n    }).then(this._checkStatus);\n  }\n\n  delCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(this._checkStatus);\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    if (!isLiked) {\n      return this.delLike(id);\n    } else {\n      return this.addlike(id);\n    }\n  }\n\n  addlike(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: 'PUT',\n      headers: this._headers\n    }).then(this._checkStatus);\n  }\n\n  delLike(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(this._checkStatus);\n  }\n\n}\n\nexport const api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-41',\n  headers: {\n    authorization: '6be6d1f2-064d-406f-a1f7-f93c76457b36',\n    'Content-Type': 'application/json'\n  }\n});","map":{"version":3,"names":["Api","constructor","options","_baseUrl","baseUrl","_headers","headers","_checkStatus","res","ok","json","Promise","reject","status","getUserInfo","fetch","debugger","method","then","getInitialCards","getInitialInfo","all","setUserInfo","id","body","JSON","stringify","name","about","newUserAvatar","data","avatar","addNewCard","title","link","url","delCard","changeLikeCardStatus","isLiked","delLike","addlike","api","authorization"],"sources":["/Users/Vlad/dev/mesto-react/src/utils/Api.js"],"sourcesContent":["class Api {\n    constructor(options) {\n        this._baseUrl = options.baseUrl;\n        this._headers = options.headers;\n    }\n\n    _checkStatus(res) {\n        if (res.ok) {\n            return res.json()\n        } else {\n            return Promise.reject(`Error: ${res.status}`);\n        }\n    }\n\n    getUserInfo() {\n        return fetch (`${this._baseUrl}/users/me`, {\n            debugger: '',\n            method: 'GET',\n            headers: this._headers\n        })\n        .then(this._checkStatus)\n    }\n\n    getInitialCards() {\n        return fetch(`${this._baseUrl}/cards`, {\n            method: 'GET',\n            headers: this._headers,\n        })\n        .then((res => {\n            return this._checkStatus(res)\n        }))\n    }\n\n    getInitialInfo() {\n        return Promise.all([this.getUserInfo(), this.getInitialCards()])\n    }\n\n    setUserInfo(id) {\n        return fetch(`${this._baseUrl}/users/me`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: id.name,\n                about: id.about\n            })\n        })\n        .then(this._checkStatus)\n    }\n\n    newUserAvatar(data) {\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                avatar: data.avatar\n            })\n        })\n        .then(this._checkStatus)\n    }\n\n    addNewCard(data) {\n        return fetch(`${this._baseUrl}/cards`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: data.title,\n                link: data.url\n            })\n        })\n        .then(this._checkStatus)\n    }\n\n    delCard(id) {\n        return fetch(`${this._baseUrl}/cards/${id}`, {\n            method: 'DELETE',\n            headers: this._headers\n        })\n        .then(this._checkStatus)\n    }\n\n    changeLikeCardStatus(id, isLiked) {\n        if(!isLiked) {\n            return this.delLike(id);\n        }else {\n            return this.addlike(id);\n        }\n    }\n    \n    addlike(id) {\n        return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n            method: 'PUT',\n            headers: this._headers\n        })\n        .then(this._checkStatus)\n    }\n\n    delLike(id) {\n        return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n            method: 'DELETE',\n            headers: this._headers\n        })\n        .then(this._checkStatus)\n    }\n}\n\nexport const api = new Api({\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-41',\n    headers: {\n        authorization: '6be6d1f2-064d-406f-a1f7-f93c76457b36',\n        'Content-Type': 'application/json'\n    }\n})"],"mappings":"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"},"metadata":{},"sourceType":"module"}